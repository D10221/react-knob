(this["webpackJsonp@d10221/react-knob-demo"]=this["webpackJsonp@d10221/react-knob-demo"]||[]).push([[0],{10:function(e,t,n){},11:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),o=n.n(r),i=n(1),l=n.n(i);n(10);function s(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return e&&e.filter(Boolean).join(" ")}for(var c="",v=65;v<=90;v++)c+=String.fromCharCode(v);for(var u="",d=97;d<=122;d++)u+=String.fromCharCode(d);for(var m="",f=0;f<=9;f++)m+=""+f;var b={chars:c+u+m};function h(e){return e.charAt(Math.floor(Math.random()*e.length))}function p(e){return void 0===e&&(e=10),function t(n){return n.length>=e?n:t(n+h(b.chars))}(h(c+u))}function g(e,t){return void 0===t&&(t=p()),Object(r.useEffect)((function(){return function(t,n){return function(e){var t=document.createElement("style");return t.innerHTML=e,document.head.appendChild(t),function(){document.head.removeChild(t)}}("."+n+" {"+e+"}")}(0,t)})),t}var y=100;function E(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}var O=p(),k=function(e){var t=e.children,n=e.size;void 0===n&&(n=65);var a=e.className,r=e.style,i=E(e,["children","size","className","style"]);return o.a.createElement("div",Object.assign({},i,{style:Object.assign({},r,{width:n,height:n}),className:s(g("\n  margin:0;\n  padding: 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  justify-items: center;\n  align-items: center;\n  align-content: center;  \n    ",O),a)}),o.a.Children.map(t,(function(e){if(o.a.isValidElement(e)){var t=e.props,n=t.style,a=E(t,["style"]);return o.a.cloneElement(e,Object.assign({},a,{style:Object.assign({},n,{touchAction:"none",pointerEvents:"none"})}))}return e})))},x=function(e){var t={transform:"rotate("+e.rotation+"deg) translateZ("+(e.translateZ||0)+"px)",transformOrigin:"50% 50%"};return o.a.createElement(o.a.Fragment,{},o.a.Children.map(e.children,(function(e){return o.a.isValidElement(e)?o.a.cloneElement(e,{style:Object.assign({},e.props.style,t)}):e})))};function w(e,t,n){return(e-t)/(n-t)}function C(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}var j=p(),z=function(e){var t=e.children,n=e.className,a=e.borderColor;void 0===a&&(a="black");var r=e.color;void 0===r&&(r="#f37d02");var i=C(e,["children","className","borderColor","color"]);return o.a.createElement("div",Object.assign({className:s(n,g("\n      position: relative;\n      width: 85%;\n      height: 85%;\n      border-radius: 50%;\n      border: solid "+a+" 5px;  \n      background-color: "+r+";\n      margin:0;\n      padding: 0;\n      overflow: hidden;\n      ",j))},i),t)},N=p(),P=function(e){var t=e.children,n=e.className,a=e.color;void 0===a&&(a="black");var r=C(e,["children","className","color"]);return o.a.createElement("div",Object.assign({className:s(n,g("\n      position: relative;\n      width: 10%;\n      height: 45%;\n      background-color: "+a+";\n      top: -5%;\n      left: 50%;\n      transform: translateX(-50%);  \n      margin:0;\n      padding: 0;\n      ",N))},r),t)},S=function(e){var t=e.color,n=e.borderColor,a=e.circleClass,r=e.dialClass,i=C(e,["color","borderColor","circleClass","dialClass"]);return o.a.createElement(z,Object.assign({},i,{color:t,borderColor:n,className:a}),o.a.createElement(P,{color:n,className:r}))},A=function(e){var t=e.topPosition;void 0===t&&(t=0);var n=e.scale;void 0===n&&(n=1);var a=e.knobCenter;void 0===a&&(a=[]);var r=e.cursorPos;void 0===r&&(r=[]);var i=e.overlayColor;void 0===i&&(i="#fff");var l,s,c={position:"absolute",top:0,left:0,width:1,height:1,backgroundColor:i},v=(l=r[0]-a[0],s=r[1]-a[1],{distance:Math.sqrt(l*l+s*s),degrees:Math.atan2(s,l)*(180/Math.PI)}),u=y*n,d={knobPath:Object.assign({},c,{opacity:.5,transformOrigin:"left center",transform:"translateX("+a[0]+"px) translateY("+a[1]+"px) translateZ(0) rotate("+v.degrees+"deg) scaleX("+v.distance+")"}),bodyPath:Object.assign({},c,{transformOrigin:"center top",transform:"translateX("+r[0]+"px) translateY("+t+"px) translateZ(0) scaleY("+u+")"}),topPath:Object.assign({},c,{transform:"translateX("+r[0]+"px) translateY("+t+"px) translateZ(0) scaleX(12)"}),centerPath:Object.assign({},c,{transform:"translateX("+r[0]+"px) translateY("+(t+u/2)+"px) translateZ(0) scaleX(12)"}),bottomPath:Object.assign({},c,{transform:"translateX("+r[0]+"px) translateY("+(t+u)+"px) translateZ(0) scaleX(12)"}),overlay:{position:"fixed",zIndex:100,top:0,left:0,width:window.innerWidth,height:window.innerHeight,cursor:"ns-resize",touchAction:"none",pointerEvents:"none"}};return o.a.createElement("div",{style:d.overlay},o.a.createElement("div",{style:d.knobPath}),o.a.createElement("div",{style:d.bodyPath}),o.a.createElement("div",{style:d.topPath}),o.a.createElement("div",{style:d.centerPath}),o.a.createElement("div",{style:d.bottomPath}))};function M(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}var X={outter:void 0,inner:void 0,labels:void 0},Y={outter:void 0,inner:void 0,labels:void 0},F=p(),B=p(),D=p(),Z=function(e){var t=e.className,n=e.bufferSize;void 0===n&&(n=300);var a=e.style,r=e.styles;void 0===r&&(r=Y);var i=e.classes;void 0===i&&(i=X);var l=M(e,["className","bufferSize","style","styles","classes"]);return g("fill: black",F),g("fill: darkgrey",B),g("    \n    stroke: whitesmoke;\n    font-size: .8rem;\n    ",D),o.a.createElement("svg",Object.assign({className:t,viewBox:"0 0 100 100",focusable:"false",style:Object.assign({},a,{touchAction:"none"})},l),o.a.createElement("g",null,o.a.createElement("circle",{cx:"50%",cy:"50%",r:"47%",className:s(F,i.outter),style:Object.assign({},r.outter)}),o.a.createElement("circle",{cx:"50%",cy:"50%",r:"25%",className:s(B,i.inner),style:Object.assign({},r.inner)}),o.a.createElement(H,{rotation:n,labels:L,y:"12.5",className:s(D,i.labels),style:Object.assign({},r.labels)})))},L=[0,1,2,3,4,5,6,7,8,9,10],T=function(e){var t=e.children,n=M(e,["children"]);return o.a.createElement("svg",{viewBox:"0 0 100 100",style:{pointerEvents:"none",touchAction:"none"}},o.a.createElement("text",Object.assign({dominantBaseline:"middle",textAnchor:"middle"},n),t))},H=function(e){var t=e.labels,n=e.rotation,a=e.id,i=M(e,["labels","rotation","id"]);t=t&&t.length?t:[];var l=parseFloat((n/(t.length-1)).toFixed(2)),s=Object(r.useState)([]),c=s[0],v=s[1];return c.length||requestAnimationFrame((function(){v(t.map((function(e,t){return o.a.createElement(x,{rotation:t*l*-1,key:a+"-label-"+t},o.a.createElement(T,Object.assign({id:a+"-label-"+t,x:"50%",y:"10%"},i,{children:e})))})))})),c},W=p(),q=p(),I={circle:void 0,dial:void 0},J={circle:void 0,dial:void 0};function R(e){var t=e.className,n=e.style,a=e.styles;void 0===a&&(a=I);var r=e.classes;void 0===r&&(r=J);var i=function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&-1===t.indexOf(a)&&(n[a]=e[a]);return n}(e,["className","style","styles","classes"]);return g("fill: #f37d02; stroke: black; stroke-width: 9%",W),g("width: 8%;height: 35%; fill: black;",q),o.a.createElement("svg",Object.assign({viewBox:"0 0 100 100",focusable:"false",className:t,style:Object.assign({},n,{touchAction:"none"})},i),o.a.createElement("circle",{cx:"50%",cy:"50%",r:"47%",className:s(W,r.dial),style:a.circle}),o.a.createElement("rect",{x:"48%",y:"4%",className:s(q,r.dial),style:a.dial}))}var U=function(e){var t=e.value;void 0===t&&(t=0);var n=e.min;void 0===n&&(n=1);var a=e.max;void 0===a&&(a=100);var i=e.step;void 0===i&&(i=1);var l=e.size;void 0===l&&(l=65);var s=e.bufferSize;void 0===s&&(s=300);var c=e.noOverlay;void 0===c&&(c=!1);var v=e.onChange;void 0===v&&(v=void 0);var u=e.children;void 0===u&&(u=void 0);var d=e.containerProps;void 0===d&&(d=void 0);var m=function(e){var t=Object(r.useState)({scale:1,cursorPos:[],knobCenter:[],topPosition:0}),n=t[1];return{state:t[0],setState:n,start:function(){},move:function(t){var a=t.value;void 0===a&&(a=0);var r=t.cursorPos;void 0===r&&(r=[]);var o=t.knobCenter;void 0===o&&(o=[]);var i=t.scale;void 0===i&&(i=1);var l=t.topPosition;void 0===l&&(l=0),e&&e(a),n({cursorPos:r,knobCenter:o,scale:i,topPosition:l})},done:function(){n({scale:1,cursorPos:[],knobCenter:[],topPosition:0})}}}((function(e){return"function"==typeof v&&e!==t&&v(e)})),f=m.state,b=f.cursorPos,h=f.knobCenter,p=f.scale,g=f.topPosition,E=function(e){var t=e.value;void 0===t&&(t=0);var n=e.min;void 0===n&&(n=0);var a=e.max;void 0===a&&(a=100);var r=e.step;void 0===r&&(r=1);var o=e.onMove,i=e.onUp,l=e.onDown;return function(e){e.preventDefault();var s=e.currentTarget;if(s instanceof HTMLElement){var c=e.clientY,v=s.getBoundingClientRect();"function"==typeof l&&l({clientY:e.clientY,rect:v});var u,d=(u=s)&&u.ownerDocument||document;d.addEventListener("pointermove",m,!1),d.addEventListener("pointerup",(function e(){d.removeEventListener("pointermove",m,!1),d.removeEventListener("pointerup",e,!1),"function"==typeof i&&i()}),!1)}function m(e){e.preventDefault();var i=e.clientX,l=e.clientY,s=Math.abs(i-(v.left+v.width/2))/200+1,u=l-(y*s-w(t,n,a)*(y*s));c<u&&(u=c),c>u+y*s&&(u=c-y*s);var d,m,f,b=(d=(100-100/(y*s)*(c-u))/100*(a-n),void 0===(m=r)&&(m=d),void 0===(f=n)&&(f=d),Math.round(d/m)*m+f);b!==t&&o&&o({value:b,scale:s,cursorPos:[i,l],knobCenter:[v.left+v.width/2,v.top+v.height/2],topPosition:u})}}}({value:t,min:n,max:a,step:i,onMove:m.move,onDown:m.start,onUp:m.done}),O=function(e){var t=e.value;void 0===t&&(t=0);var n=e.min;void 0===n&&(n=0);var a=e.max;void 0===a&&(a=100);var r=e.bufferSize;return void 0===r&&(r=360),w(t,n,a)*r-r/2}({value:t,min:n,max:a,bufferSize:s});return o.a.createElement(k,Object.assign({size:l,onPointerDown:E},d),o.a.createElement(x,{rotation:O},u||o.a.createElement(S,null)),c||!g?null:o.a.createElement(A,{cursorPos:b,knobCenter:h,scale:p,topPosition:g}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(4),K=function(e){var t=e.label,n=void 0===t?"":t,a=e.value,r=void 0===a?"":a,i=e.className,l=void 0===i?"icon":i;return o.a.createElement("span",{className:l,role:"img","aria-label":n||"","aria-hidden":!Boolean(n)},r)},$=["css","css:custom","svg:1","svg:2"];l.a.render(o.a.createElement((function(){var e=Object(r.useState)({value:0,dialogOpen:!1,size:65,noOverlay:!1,skin:"svg:1",bufferSize:300}),t=Object(a.a)(e,2),n=t[0],i=n.value,l=n.dialogOpen,s=n.size,c=n.noOverlay,v=n.skin,u=n.bufferSize,d=t[1];function m(e){e<0||e>100||d({value:e,dialogOpen:l,size:s,noOverlay:c,skin:v,bufferSize:u})}function f(e){m(e.target.valueAsNumber)}function b(e){return function(){return d({value:i,dialogOpen:e,size:s,noOverlay:c,skin:v,bufferSize:u})}}function h(e){d({value:i,dialogOpen:l,size:e.target.valueAsNumber,noOverlay:c,skin:v,bufferSize:u})}function p(e){d({value:i,dialogOpen:l,noOverlay:!e.target.checked,size:s,skin:v,bufferSize:u})}function g(e){d({value:i,dialogOpen:l,noOverlay:c,size:s,bufferSize:u,skin:e.currentTarget.value})}return o.a.createElement(o.a.Fragment,null,o.a.createElement("header",null,o.a.createElement("a",{"aria-label":"project home",href:"https://github.com/D10221/react-knob"},"React Knob"),o.a.createElement("button",{className:"clear",onClick:b(!0)},o.a.createElement(K,{value:"\u2699",label:"Settings"}))),o.a.createElement("main",null,o.a.createElement(U,{value:i,onChange:m,size:s,min:0,max:100,step:1,bufferSize:u,noOverlay:c},function(e){var t=e.skin,n=void 0===t?"svg:1":t,a=e.bufferSize,r=void 0===a?300:a;switch(n){case"css":return o.a.createElement(S,null);case"css:custom":return o.a.createElement(S,{circleClass:"knob-circle"});case"svg:1":return o.a.createElement(R,null);case"svg:2":return o.a.createElement(Z,{bufferSize:r,classes:{},styles:{labels:{}}});default:return null}}({skin:v,bufferSize:u})),o.a.createElement("input",{"aria-label":"knob value",type:"number",value:i,onChange:f,min:0,max:100})),o.a.createElement("footer",null,o.a.createElement("div",null,o.a.createElement(K,{value:"\ud83d\udcac",label:"Feedback"}),o.a.createElement("a",{href:"https://github.com/D10221/react-knob/issues"},"Feedback"))),o.a.createElement(V.a,{onClickAway:b(!1)},o.a.createElement("dialog",{open:l},o.a.createElement("div",{className:"column"},o.a.createElement("div",{className:"row"},o.a.createElement("label",{htmlFor:"size-input-range"},"Size"),o.a.createElement("input",{id:"size-input-range",type:"range",min:25,max:250,value:s,onChange:h})),o.a.createElement("div",{className:"row"},o.a.createElement("label",{htmlFor:"no-overlay"},"Overlay"),o.a.createElement("input",{type:"checkbox",checked:!c,onChange:p})),o.a.createElement("div",{className:"row"},o.a.createElement("label",null,"Skin"),$.map((function(e){return o.a.createElement("button",{key:"".concat(e),className:"clear",onClick:g,value:e},o.a.createElement(K,{value:"".concat(e),className:"numeral"}))})))))))}),null),document.body),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},5:function(e,t,n){e.exports=n(11)}},[[5,1,2]]]);
//# sourceMappingURL=main.3d2932b9.chunk.js.map